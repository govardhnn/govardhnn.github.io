<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link rel="icon" type="image/jpg" href="./img/icon.jpg">
    <title>ReadTheSlides - Sai Govardhan</title>
    <meta name="author" content="Sai Govardhan">
    <meta name="description" content="Course notes and learning resources by Sai Govardhan.">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="./img/stylesheet.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>

<body data-new-gr-c-s-check-loaded="14.1097.0" data-gr-ext-installed="">
    <table style="width:100%;max-width:800px;border:0px;border-spacing:0px;border-collapse:separate;margin-right:auto;margin-left:auto;">
        <tbody>
            <tr style="padding:0px">
                <td style="padding:0px">
                    <table style="width:100%;border:0px;border-spacing:0px;border-collapse:separate;margin-right:auto;margin-left:auto;">
                        <tbody>
                            <tr style="padding:0px">
                                <td style="padding:2.5%;width:70%;vertical-align:middle">
                                    <p style="text-align:center">
                                        <a href="index.html"><name><b>Sai Govardhan</b></name></a>
                                    </p>
                                    <p style="text-align:center">
                                        Microarchitect at <a href="https://agranilabs.com/">Agrani Labs</a>, a stealth mode AI Semiconductor startup. <br>
                                    </p>
                                    <p style="text-align:center">
                                        <a href="slides.html" target="_self">ReadTheSlides</a> &nbsp;/&nbsp;
                                        <a href="https://www.linkedin.com/in/saigovardhan/" target="_self">LinkedIn</a> &nbsp;/&nbsp;
                                        <a href="https://www.goodreads.com/user/show/45335591-govardhan" target="_self">Goodreads</a> &nbsp;/&nbsp;
                                        <a href="https://github.com/govardhnn" target="_self">GitHub</a>
                                    </p>
                                </td>
                                <td style="padding:2.5%;width:40%;max-width:40%">
                                    <a href="./img/govardhan-profile.jpg"><img style="width:100%;max-width:100%" alt="profile photo" src="./img/govardhan-profile.jpg" class="hoverZoomLink"></a>
                                </td>
                            </tr>
                        </tbody>
                    </table>

                    <heading>ReadTheSlides</heading>

                    <div style="max-width: 700px; margin: 40px auto;" id="mainContainer">
                        <!-- Field and Topic Selectors Side by Side -->
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 25px;">
                            <select id="fieldSelect" style="width: 100%; padding: 12px; font-family: Helvetica, Arial, sans-serif; font-size: 14px; border: 1px solid #e0e0e0; border-radius: 6px; background: white; color: #666; cursor: pointer;">
                            </select>
                            <select id="topicSelect" style="width: 100%; padding: 12px; font-family: Helvetica, Arial, sans-serif; font-size: 14px; border: 1px solid #e0e0e0; border-radius: 6px; background: white; color: #666; cursor: pointer;">
                            </select>
                        </div>

                        <!-- Slides Display -->
                        <div id="slidesSection" style="display: none; margin-top: 20px;">
                            <div id="slidesContent"></div>
                        </div>

                        <!-- CC BY 4.0 License -->
                        <div style="margin-top: 60px; padding-top: 30px; border-top: 1px solid #e0e0e0; text-align: center;">
                            <p style="font-size: 12px; color: #999; font-family: Helvetica, Arial, sans-serif; line-height: 1.6; margin-bottom: 15px;">
                                <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank" style="color: #999; text-decoration: none;">
                                    <img src="https://licensebuttons.net/l/by/4.0/88x31.png" alt="CC BY 4.0" style="display: inline-block; vertical-align: middle; margin-right: 8px;">
                                </a>
                            </p>
                            <p style="font-size: 12px; color: #999; font-family: Helvetica, Arial, sans-serif; line-height: 1.6;">
                                This work is licensed under a <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank" style="color: #1772d0; text-decoration: none;">Creative Commons Attribution 4.0 International License</a>.<br><br>
                                Â© 2025 Sai Govardhan. You are free to share and adapt this material for any purpose,<br>
                                even commercially, as long as you give appropriate credit.
                            </p>
                        </div>
                    </div>

                    <style>
                        select:focus {
                            outline: none;
                            border-color: #1772d0;
                        }

                        #slidesContent {
                            padding: 20px;
                            background: #f9f9f9;
                            border-radius: 8px;
                            text-align: center;
                        }

                        #slidesContent h3 {
                            margin-bottom: 15px;
                            font-family: Helvetica, Arial, sans-serif;
                            font-weight: normal;
                            font-size: 14px;
                            color: #666;
                        }

                        #slidesContent a {
                            display: inline-block;
                            padding: 12px 24px;
                            background: #1772d0;
                            color: white;
                            text-decoration: none;
                            border-radius: 6px;
                            transition: all 0.2s ease;
                            font-family: Helvetica, Arial, sans-serif;
                            font-size: 14px;
                        }

                        #slidesContent a:hover {
                            background: #f09228;
                            transform: translateY(-2px);
                            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                        }
                    </style>

                    <script>
                        // Load slides data from external JSON
                        let slidesData = {};

                        fetch('slides.json')
                            .then(response => {
                                if (!response.ok) throw new Error('Failed to load slides.json');
                                return response.json();
                            })
                            .then(data => {
                                slidesData = data;
                                initializeSelectors();
                            })
                            .catch(error => {
                                console.error('Error loading slides.json:', error);
                                alert('Failed to load slides data. Please refresh the page.');
                            });

                        // Dropdown functionality
                        const fieldSelect = document.getElementById('fieldSelect');
                        const topicSelect = document.getElementById('topicSelect');
                        const slidesSection = document.getElementById('slidesSection');

                        function initializeSelectors() {
                            // Add default option for field
                            fieldSelect.innerHTML = '<option value="">-- Select a Field --</option>';

                            // Populate field dropdown
                            Object.entries(slidesData).forEach(([key, value]) => {
                                const option = document.createElement('option');
                                option.value = key;
                                option.textContent = value.name;
                                fieldSelect.appendChild(option);
                            });

                            // Set default for topics
                            topicSelect.innerHTML = '<option value="">-- Select a Topic --</option>';
                        }

                        // When field changes, populate topics
                        fieldSelect.addEventListener('change', () => {
                            const field = fieldSelect.value;
                            if (field) {
                                populateTopics(field);
                            } else {
                                topicSelect.innerHTML = '<option value="">-- Select a Topic --</option>';
                            }
                            slidesSection.style.display = 'none';
                        });

                        // When topic changes, show slides
                        topicSelect.addEventListener('change', () => {
                            if (!topicSelect.value) {
                                slidesSection.style.display = 'none';
                                return;
                            }

                            const field = fieldSelect.value;
                            const topic = topicSelect.options[topicSelect.selectedIndex].text;
                            const url = slidesData[field].topics[topic];

                            if (url === "yet-to-upload") {
                                showYetToUpload(topic);
                            } else {
                                showSlides(topic, url);
                            }
                        });

                        function populateTopics(field) {
                            topicSelect.innerHTML = '<option value="">-- Select a Topic --</option>';

                            const fieldData = slidesData[field];
                            Object.entries(fieldData.topics).forEach(([topic, url]) => {
                                const option = document.createElement('option');
                                option.value = topic;
                                option.textContent = topic;
                                topicSelect.appendChild(option);
                            });
                        }

                        function showYetToUpload(topic) {
                            const slidesContent = document.getElementById('slidesContent');
                            const mainContainer = document.getElementById('mainContainer');

                            mainContainer.style.maxWidth = '700px';

                            slidesContent.innerHTML = `
                                <h3>${topic}</h3>
                                <p style="color: #999; font-family: Helvetica, Arial, sans-serif; font-size: 14px; margin-top: 15px;">
                                    &lt;Yet to upload&gt;
                                </p>
                            `;

                            slidesSection.style.display = 'block';
                        }

                        function showSlides(topic, url) {
                            const slidesContent = document.getElementById('slidesContent');
                            const mainContainer = document.getElementById('mainContainer');

                            // Check if it's a Google Slides embed URL
                            if (url.includes('google.com/presentation') && url.includes('/embed')) {
                                // Expand container for slides
                                mainContainer.style.maxWidth = '1400px';

                                slidesContent.innerHTML = `
                                    <h3>${topic}</h3>
                                    <iframe src="${url}?start=false&loop=false&delayms=3000"
                                            frameborder="0"
                                            width="100%"
                                            height="800"
                                            allowfullscreen="true"
                                            mozallowfullscreen="true"
                                            webkitallowfullscreen="true"
                                            style="border-radius: 8px; margin-top: 15px;">
                                    </iframe>
                                `;
                            } else {
                                // PDF link - keep normal width
                                mainContainer.style.maxWidth = '700px';

                                slidesContent.innerHTML = `
                                    <h3>${topic}</h3>
                                    <a href="${url}" target="_blank">View Slides (PDF)</a>
                                `;
                            }

                            slidesSection.style.display = 'block';
                        }

                    </script>

                </td>
            </tr>
        </tbody>
    </table>
</body>
</html>